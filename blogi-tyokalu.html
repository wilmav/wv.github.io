<!DOCTYPE html>
<html lang="fi">

<head>
    <meta charset="UTF-8">
    <title>Blogieditori (työkalu)</title>
    <link rel="stylesheet" href="tyyli.css">
    <style>
        .editor-container {
            max-width: 600px;
            background: #f8f9fb;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.3rem;
            font-weight: 600;
            font-size: 0.9rem;
        }

        input,
        textarea {
            width: 100%;
            padding: 0.6rem;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-family: inherit;
            box-sizing: border-box;
        }

        textarea {
            min-height: 150px;
            line-height: 1.5;
        }

        button {
            background-color: var(--accent);
            border: none;
            padding: 0.6rem 1.2rem;
            font-权重: 600;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
        }

        button:hover {
            filter: brightness(1.05);
        }

        #output {
            margin-top: 1.5rem;
            background: #2d2d2d;
            color: #eee;
            font-family: monospace;
            padding: 1rem;
            border-radius: 8px;
            white-space: pre-wrap;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>

    <div class="content-wrapper page-default" style="margin-left: 0; padding: 2rem;">
        <main>
            <div class="content-padding">
                <h1>Blogieditori</h1>
                <p>Tämä työkalu luo HTML-koodin, jonka voit kopioida <code>blogi.html</code>-tiedostoon.</p>

                <div class="editor-container">
                    <div class="form-group">
                        <label for="date">Päivämäärä</label>
                        <input type="text" id="date" value="04.01.2025" placeholder="pp.kk.vvvv">
                    </div>

                    <div class="form-group">
                        <label for="title">Otsikko</label>
                        <input type="text" id="title" placeholder="Kirjoituksen otsikko">
                    </div>

                    <div class="form-group">
                        <label for="content">Sisältö</label>
                        <textarea id="content"
                            placeholder="Kirjoita teksti tähän. Tyhjät rivit erottavat kappaleet."></textarea>
                    </div>

                    <button onclick="generateHTML()">Luo HTML-koodi</button>

                    <div id="outputContainer" class="hidden">
                        <h3>Kopioi tämä koodi:</h3>
                        <textarea id="output" readonly></textarea>
                        <p style="font-size: 0.85rem; color: #666;">(Maalaa teksti ja paina Cmd+C)</p>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
        // Aseta tämä päivä oletukseksi
        const now = new Date();
        const d = String(now.getDate()).padStart(2, '0');
        const m = String(now.getMonth() + 1).padStart(2, '0');
        const y = now.getFullYear();
        document.getElementById('date').value = `${d}.${m}.${y}`;

        function generateHTML() {
            const date = document.getElementById('date').value;
            const title = document.getElementById('title').value;
            const text = document.getElementById('content').value;

            // Muuta rivinvaihdot p-tageiksi
            const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim() !== "");
            const htmlParagraphs = paragraphs.map(p => `    <p>${p.trim()}</p>`).join('\n');

            const html = `
<article class="blog-post">
    <p class="date">${date}</p>
    <h2>${title}</h2>
${htmlParagraphs}
</article>`;

            const output = document.getElementById('output');
            output.value = html.trim();
            document.getElementById('outputContainer').classList.remove('hidden');
        }
    </script>

</body>

</html>